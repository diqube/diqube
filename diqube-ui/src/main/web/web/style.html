<!--

    diqube: Distributed Query Base.

    Copyright (C) 2015 Bastian Gloeckle

    This file is part of diqube.

    diqube is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

-->
<link rel="import" href="lib/polymer/polymer/polymer.html">

<dom-module id="diqube-styles">
  <template>
    <style is="custom-style">
    
:root {
  /* Diqube defintions */
  --diqube-primary-color: var(--paper-deep-orange-500);
  --diqube-primary-color-light: var(--paper-deep-orange-300);
  --diqube-primary-color-dark: var(--paper-deep-orange-700);
  --diqube-secondary-color: var(--paper-amber-a400);
  --diqube-secondary-color-light: var(--paper-amber-a100);
  --diqube-secondary-color-dark: var(--paper-amber-a700);
  
  --diqube-background-color-grey1: var(--paper-grey-50);
  --diqube-background-color-grey2: var(--paper-grey-100);
  --diqube-background-color-grey3: var(--paper-grey-300);
  
  --diqube-background-color-white: white;
  
  --diqube-text-lightbg-primary: rgba(0, 0, 0, var(--dark-primary-opacity));
  --diqube-text-lightbg-secondary: rgba(0, 0, 0, var(--dark-secondary-opacity));
  --diqube-text-lightbg-third: rgba(0, 0, 0, var(--dark-disabled-opacity));
  --diqube-text-lightbg-fourth: rgba(0, 0, 0, var(--dark-divider-opacity));
  
  --diqube-text-lightbg-error: var(--paper-red-a700);
  --diqube-text-lightbg-warning: var(--paper-orange-a400);  
  
  --diqube-text-darkbg-primary: rgba(255, 255, 255, var(--light-primary-opacity));
  
  /* keep in sync with TransitionBoundaryChanges. */
  --diqube-transition-time: 300ms;
  
  /* diqube derived mixins */
  --diqube-font-lightbg-title-primary: {
    @apply(--paper-font-title);
    color: var(--diqube-text-lightbg-primary);
  }

  --diqube-font-lightbg-title-secondary: {
    @apply(--paper-font-title);
    color: var(--diqube-text-lightbg-secondary);
  }
  
  --diqube-font-lightbg-body1-secondary: {
    @apply(--paper-font-body1);
    color: var(--diqube-text-lightbg-secondary);
  }

  --diqube-font-lightbg-body1-primary: {
    @apply(--paper-font-body1);
    color: var(--diqube-text-lightbg-primary);
  }

  --diqube-font-lightbg-body2-primary: {
    @apply(--paper-font-body2);
    color: var(--diqube-text-lightbg-primary);
  }

  --diqube-font-lightbg-subhead-primary: {
    @apply(--paper-font-subhead);
    color: var(--diqube-text-lightbg-primary);
  }

  --diqube-font-lightbg-subhead-secondary: {
    @apply(--paper-font-subhead);
    color: var(--diqube-text-lightbg-secondary);
  }


  /* Polymer overwrites */

  /* frpom default-style.html */
  --primary-text-color: var(--diqube-text-lightbg-primary);
  --primary-background-color: var(--diqube-background-color-grey1);
  --secondary-text-color: var(--diqube-text-lightbg-secondary);
  --disabled-text-color: var(--diqube-text-lightbg-third);
  --divider-color: var(--diqube-text-lightbg-fourth);
  --primary-color: var(--diqube-primary-color);
  --light-primary-color: var(--diqube-primary-color-light);
  --dark-primary-color: var(--diqube-primary-color-dark);
  --accent-color: var(--diqube-secondary-color);
  --light-accent-color: var(--diqube-secondary-color-light);
  --dark-accent-color: var(--diqube-secondary-color-dark);
  --text-primary-color: var(--primary-text-color);
  --default-primary-color: var(--primary-color);


  /* own overwrites */
  --paper-button-disabled: {
    background: transparent;
  };
  --paper-card-header-text: {
    @apply(--diqube-font-lightbg-title-primary);
  };
  --paper-toolbar-background: var(--diqube-primary-color);
  --paper-toolbar-color: var(--diqube-text-darkbg-primary);
  --paper-tabs-selection-bar-color: var(--diqube-primary-color);
  --paper-tab-ink: var(--diqube-primary-color);
  --paper-progress-active-color: var(--diqube-primary-color-light);
  --paper-input-container-invalid-color: var(--diqube-text-lightbg-error);
  --paper-spinner-color: var(--diqube-primary-color-light);
  
  /* Diqube polymer elements overwrites */
  --diqube-error-color: var(--diqube-text-lightbg-error);
  --diqube-warning-color: var(--diqube-text-lightbg-warning);  
}
    
body {
  background-color: var(--diqube-background-color-grey1);
  font-family: "Roboto", sans-serif;
  -webkit-font-smoothing: antialiased;  /* OS X subpixel AA bleed bug */
}

body, a {
  @apply(--diqube-font-lightbg-body1-primary);
  /* color: var(--paper-grey-900); */
}

h1 {
  @apply(--diqube-font-lightbg-title-primary);
}

body /deep/ .main-content {
  padding: 10px;
}

body /deep/ #mainContainer {
  /* This is a polymer tag inside the paper-scroll-header-panel that contains our main content. Ensure that it has a layout. */
  @apply(--layout-vertical);
}

/* Elements that are placed by a router-outlet need to be "flex"ed manually. */

diqube-login {
  display: flex;
  flex: 1;
  flex-direction: row;
}

diqube-single-query {
  display: flex;
  flex: 1;
  flex-direction: row;
}

diqube-analysis-manage {
  display: flex;
  flex: 1;
  flex-direction: row;
}

diqube-analysis-create {
  display: flex;
  flex: 1;
  flex-direction: row;
}

diqube-analysis-root {
  display: flex;
  flex: 1;
  flex-direction: row;
}

diqube-analysis-main {
  display: flex;
  flex: 1;
  flex-direction: row;
}

/* Floating action button */
.fab {
  position: fixed;
  right: 30px;
  bottom: 30px;
  z-index: 100;
  background-color: var(--diqube-secondary-color);
}

body /deep/ paper-button.warn-button {
  color: var(--diqube-text-lightbg-error);
}

body /deep/ .main-title.title {
  margin-left: 0px !important;
  height: 25px;
}

body /deep/ iron-pages {
  /* iron-pages seems to not forward our default font.. */
  @apply(--diqube-font-lightbg-body1-primary);
}

body /deep/ paper-button[raised] {
  background-color: var(--diqube-background-color-grey2);
} 

diqube-table {
  @apply(--diqube-font-lightbg-body1-primary);
}

diqube-table table.mdl-data-table {
  width: 100%;
  border: 0px;
}

diqube-table table.mdl-data-table thead th {
  height: auto;
  @apply(--diqube-font-lightbg-body2-primary);
}

diqube-table table.mdl-data-table tbody tr {
  height: 25px;
}

diqube-table table.mdl-data-table tbody td {
  border-bottom: 0px;
  padding-top: 5px;
  padding-bottom: 5px;
  height: auto;
}

#dragControlElement {
  background-color: var(--diqube-secondary-color);
  opacity: .5;
}

body /deep/ .dragging /deep/ * {
  cursor: move;
}

/* If drag and drop is in progress and the currently dragged object is droppable somewhere, show the user that! */
body /deep/ .droppable {
  background-color: var(--diqube-secondary-color-light) !important;
  cursor: copy !important;
}

body /deep/ .droppable * {
  cursor: copy !important;
}

body /deep/ [dropTarget] {
  /* animate background color changes from dragging/dropping etc. */
  transition: background-color var(--diqube-transition-time);
}

/* class temporarily added to an element that something has been dropped to. */
body /deep/ .dropped {
  background-color: var(--diqube-secondary-color-dark) !important;
}





/* About */
.about-hint {
  @apply(--diqube-font-lightbg-body1-secondary);
}




/* Single Query */

.single-query-material-query {
  padding: 10px;
  background-color: var(--diqube-background-color-white);
}

.single-query-material-results {
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 10px;
  background-color: var(--diqube-background-color-white);
}

.single-query-material-results-progress {
  width: 100%;
}



/* Qube */

body /deep/ .qube-container > p:last-child {
  margin-bottom: 0px;
}

body /deep/ .qube {
  background-color: var(--diqube-background-color-grey3);
  padding-left: 10px;
  padding-right: 10px;
}

body /deep/ .qube-title {
  @apply(--paper-font-title);
}

body /deep/ .qube-title /deep/ input#input {
  @apply(--paper-font-title);
}

body /deep/ .remove-qube-material {
  background-color: var(--diqube-background-color-white);
  padding-top: 5px;
  margin-bottom: 10px;
}

body /deep/ .qube-header-actions {
  @apply(--diqube-font-lightbg-body1-secondary);
}

body /deep/ .edit-qube .qube-slice /deep/ input#input {
  @apply(----diqube-font-lightbg-body1-primary);
}

body /deep/ .qube /deep/ ::-webkit-scrollbar {
  /** for webkit browser disable scrollbar, as that would otherwise be visible when the opening animation runs */
  display: none;
}



/* Query */

body /deep/ .query {
  background-color: var(--diqube-background-color-white);
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 10px;
  margin-right: 10px;
  margin-bottom: 10px;
}

body /deep/ .query-title {
  @apply(--diqube-font-lightbg-subhead-primary);
}

body /deep/ .query-title /deep/ input#input {
  @apply(--diqube-font-lightbg-body1-primary);
}

body /deep/ .edit-query {
  width: 500px; /* seems to be a good fixed value for now. */
}

body /deep/ .query-header-actions {
  @apply(--diqube-font-lightbg-body1-secondary);
}

body /deep/ .query-header-actions /deep/ paper-icon-button {
  width: 36px;
  height: 36px;
  @apply(--layout-self-center);
}

body /deep/ .query-header-actions /deep/ input#input {
  @apply(--diqube-font-lightbg-body1-secondary);
}

body /deep/ .query-header-actions /deep/ paper-input-container {
  width: 90px;
}

body /deep/ .query-progress {
  width: 100%;
}

body /deep/ .query-note {
  @apply(--diqube-font-lightbg-body1-secondary);
}

body /deep/ .query .bar-chart-primary {
  color: var(--diqube-text-lightbg-primary); /* color of text inside barchart */
  background-color: var(--diqube-primary-color-light); /* color of bars in barchart */
}


/* Slices */

body /deep/ .slices-container {
  padding-left: 10px;
  padding-right: 10px;
}

body /deep/ .slices-title {
  @apply(--diqube-font-lightbg-title-primary);
}

body /deep/ .slice-container {
  @apply(--diqube-font-lightbg-body1-primary):
}

body /deep/ .slices {
  background-color: var(--diqube-background-color-grey3);
  padding-left: 10px;
  padding-right: 10px;
  padding-bottom: 10px;
}

body /deep/ .slices-header-actions {
  @apply(--diqube-font-lightbg-body1-secondary);
}



/* Slice */

body /deep/ .slice {
  background-color: var(--diqube-background-color-white);
  padding: 5px;
  /* transition smoothly if slice is opened, see .slice-opened. Copy background-color transition of d'n'd */
  transition: margin-top var(--diqube-transition-time), margin-bottom var(--diqube-transition-time), background-color var(--diqube-transition-time);
}

body /deep/ .slices /deep/ .slice-opened {
  margin-top: 10px;
  margin-bottom: 10px;
}

body /deep/ .slice-title {
  @apply(--diqube-font-lightbg-subhead-primary);
}

body /deep/ .slice-header-actions {
  @apply(--diqube-font-lightbg-body1-secondary);
}

body /deep/ .slices .slice /deep/ table {
  border-collapse: collapse;
}

body /deep/ .slices .slice /deep/ table .slice-disjunction-value-td {
  padding: 0px;
}

body /deep/ .slices .slice /deep/ table .slice-disjunction-value-list {
  margin-bottom: 0px;
}

body /deep/ .slices .slice /deep/ table .slice-disjunction-value {
  /* adjust padding of list-group as the surroundinbg table is condensed */
  padding-top: 5px;
  padding-bottom: 5px;
}

body /deep/ .slices .slice /deep/ table tr td {
  padding-bottom: 10px;
  padding-top: 10px;
}

body /deep/ .slices .slice /deep/ table tr.slice-tr-show-top-border td {
  border-top-width: 1px;
  border-top-style: solid;
  border-top-color: var(--diqube-text-lightbg-fourth);
}

body /deep/ .slices .slice /deep/ table tr.slice-tr-show-and::before {
  content: "and";
  position: absolute;
  margin-top: -10px;
  margin-left: 3px;
  background-color: var(--diqube-background-color-white);
  font-size: x-small;
  font-style: italic;
  color: var(--diqube-text-lightbg-third);
}

/* we need to add a "before" for the tr's that should not have a "and", too, otherwise the layout gets messed up */
body /deep/ .slices .slice /deep/ table tr:not(.slice-tr-show-and)::before {
  content: "";
  position: absolute;
  margin-top: -10px;
  margin-left: 3px;
}


body /deep/ .slices .slice /deep/ table .slice-disjunction-value.slice-disjunction-value-show-or::before {
  content: "or";
  position: absolute;
  margin-top: -13px;
  margin-left: -11px;
  background-color: var(--diqube-background-color-white);
  font-size: x-small;
  font-style: italic;
  color: var(--diqube-text-lightbg-third);
}

body /deep/ .slices .slice /deep/ table .slice-disjunction-value-td ul {
  margin-top: 0px;
  list-style-type: none;
  padding-left: 15px;
}

body /deep/ .slices /deep/ table .slice-disjunction-field {
  vertical-align: top;
  /* If text gets too long, break it! */
  word-wrap: break-word;
  word-break: break-word;
}

body /deep/ .slices /deep/ ::-webkit-scrollbar {
  /** for webkit browser disable scrollbar, as that would otherwise be visible when the opening animation runs */
  display: none;
}

body /deep/ .slices .slice /deep/ paper-icon-button {
  width: 36px;
  height: 36px;
  @apply(--layout-self-center);
}

body /deep/ .slices .edit-slice /deep/ tr td paper-icon-button {
  padding: 0px;
  width: 20px;
  height: 20px;
  color: var(--diqube-text-lightbg-secondary);
}

body /deep/ .slices .remove-slice {
  margin-top: 10px;
  margin-bottom: 10px;
}

    </style>
  </template>
</dom-module>